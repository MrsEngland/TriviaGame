<!DOCTYPE html>
<html>
<head>
  <title>Trivia Game</title>
  
 
  <link rel="javascript" type="text/javascript" href="../assets/javascript/app.js">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="../assets/css/style.css">

</head>
<body>

    <div class ="jumbotron"></div>

      <button id="start"> Start the Game </button>
      <button id="submit"> Get Results </button><br>
      <div id="results"></div>
      <div id="show-number"></div><br>
      <div id="quiz"></div><br>
      
  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script type="text/javascript">




var questions = 
      [{
       question: "What is the largest freshwater lake in the world?",
        answers: [
          "Lake Superior",
          "Lake Michigan", 
          "Lake Tahoe" 
        ],
       correctAnswer: "Lake Superior"
      },
      {
      question: "Where would you find the sea of Tranquility?",
      answers: [
        "Mars",
        "Saturn", 
        "Moon"
      ],
      correctAnswer: "Moon"
      },
      {
      question: "What is someone who shoes horses called?",
      answers: [
      "Farrier",
      "Horseshoer",
      "Cobbler"
      ],
      correctAnswer: "Farrier"
      },
      {
      question: "What kind of weapon is a falchion?",
      answers:[
      "Sword",
      "Gun",
      "Knife"
      ],
      correctAnswer: "Sword"
      },
      {
      question: "What is the seventh planet from the sun?",
      answers:[
      "Saturn",
      "Neptune",
      "Uranus"
      ],
      correctAnswer: "Uranus"
      },
      ];


       for (var i = 0; i < questions.length; i++) {
       $("#quiz").append("<h2>" + questions[i].question + "</h2>");
        for (var j = 0; j < questions[i].answers.length; j++) 
          $("#quiz").append ("<input type = 'radio' name = 'question-" + i + "'value ='" + questions[i].answers[j] + "''>" + questions[i].answers[j]);  
          }



//  I wanted to make a function so the timer could not be restarted if it was already running. I was unable to make this work properly.
        var number = 10;
        var intervalId;
        // var clockRunning = false;

        $("#start").on("click", run);

            function run() {
              // if (!clockRunning) {
                 intervalId = setInterval(decrement, 1000);
                 // clockRunning = true;
            // }
            }
                function decrement() {
                number--;
                $("#show-number").html("<h2>" + "Time Remaining: " + number + "</h2>");
                if (number === 0) {
                  stop();
                  $("#show-number").html("<h2>" +"Time is up. Click Get Results." + "</h2>");
                } }
                function stop() {
                  clearInterval(intervalId);
                }
    run();
    
       // I wanted to try to not allow the radio buttons to be checked after the timer ran out. Could not figure this out.  
     
    $("#submit").on("click", score);99999

          var totalQuestions = questions.length;   
          var rightAnswer = 0;
          var wrongAnswer = 0;

        function score () {
          
        for (i=0; i < questions.length; i++) {
          if ($('input[name="question-' + i + '"]:checked').val() === questions[i].correctAnswer) {
          rightAnswer++;
          } 
          else {
          wrongAnswer++;
          }}
        
       $("#results").append("<h3>" + "Total Questions: " + totalQuestions + "</h3>");
       $("#results").append("<h3>" + "Correct Answers: " + rightAnswer + "</h3>");
       $("#results").append("<h3>" + "Wrong Answers: " + wrongAnswer + "</h3>");
          };
             

//  wanted to reset the total questions, rightAnswer and wrongAnswer to 0 if the start button was pressed again.
// Could not figure out how to do this. DId not know where the variables needed to be
stop();

  </script>
</body>
</html>